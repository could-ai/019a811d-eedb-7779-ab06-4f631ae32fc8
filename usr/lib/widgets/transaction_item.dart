import 'package:flutter/material.dart';\nimport '../models/transaction.dart';\n\nclass TransactionItem extends StatelessWidget {\n  final Transaction transaction;\n  final VoidCallback onDelete;\n\n  const TransactionItem({\n    super.key,\n    required this.transaction,\n    required this.onDelete,\n  });\n\n  IconData _getCategoryIcon(String category) {\n    switch (category.toLowerCase()) {\n      case 'food':\n        return Icons.restaurant;\n      case 'transportation':\n        return Icons.directions_car;\n      case 'shopping':\n        return Icons.shopping_bag;\n      case 'entertainment':\n        return Icons.movie;\n      case 'bills':\n        return Icons.receipt;\n      case 'healthcare':\n        return Icons.medical_services;\n      case 'education':\n        return Icons.school;\n      case 'salary':\n        return Icons.work;\n      case 'freelance':\n        return Icons.computer;\n      case 'investment':\n        return Icons.trending_up;\n      case 'gift':\n        return Icons.card_giftcard;\n      default:\n        return Icons.more_horiz;\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final isIncome = transaction.type == TransactionType.income;\n    final color = isIncome ? Colors.green : Colors.red;\n\n    return Card(\n      margin: const EdgeInsets.only(bottom: 12),\n      child: Dismissible(\n        key: Key(transaction.id),\n        direction: DismissDirection.endToStart,\n        onDismissed: (_) => onDelete(),\n        background: Container(\n          decoration: BoxDecoration(\n            color: Colors.red,\n            borderRadius: BorderRadius.circular(12),\n          ),\n          alignment: Alignment.centerRight,\n          padding: const EdgeInsets.only(right: 20),\n          child: const Icon(\n            Icons.delete,\n            color: Colors.white,\n            size: 32,\n          ),\n        ),\n        child: ListTile(\n          contentPadding: const EdgeInsets.symmetric(\n            horizontal: 16,\n            vertical: 8,\n          ),\n          leading: Container(\n            padding: const EdgeInsets.all(10),\n            decoration: BoxDecoration(\n              color: color.withOpacity(0.1),\n              borderRadius: BorderRadius.circular(10),\n            ),\n            child: Icon(\n              _getCategoryIcon(transaction.category),\n              color: color,\n              size: 28,\n            ),\n          ),\n          title: Text(\n            transaction.title,\n            style: const TextStyle(\n              fontWeight: FontWeight.bold,\n              fontSize: 16,\n            ),\n          ),\n          subtitle: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              const SizedBox(height: 4),\n              Row(\n                children: [\n                  Text(\n                    transaction.category,\n                    style: TextStyle(\n                      color: Colors.grey[600],\n                      fontSize: 14,\n                    ),\n                  ),\n                  const SizedBox(width: 8),\n                  Text(\n                    'â€¢',\n                    style: TextStyle(color: Colors.grey[600]),\n                  ),\n                  const SizedBox(width: 8),\n                  Text(\n                    '${transaction.date.day}/${transaction.date.month}/${transaction.date.year}',\n                    style: TextStyle(\n                      color: Colors.grey[600],\n                      fontSize: 14,\n                    ),\n                  ),\n                ],\n              ),\n              if (transaction.notes != null) ..[\n                const SizedBox(height: 4),\n                Text(\n                  transaction.notes!,\n                  style: TextStyle(\n                    color: Colors.grey[500],\n                    fontSize: 13,\n                    fontStyle: FontStyle.italic,\n                  ),\n                  maxLines: 1,\n                  overflow: TextOverflow.ellipsis,\n                ),\n              ],\n            ],\n          ),\n          trailing: Text(\n            '${isIncome ? '+' : '-'}\$${transaction.amount.toStringAsFixed(2)}',\n            style: TextStyle(\n              color: color,\n              fontWeight: FontWeight.bold,\n              fontSize: 16,\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}